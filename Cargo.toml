[workspace]
members = ["ferron", "ferron-passwd", "ferron-yaml2kdl-core", "ferron-yaml2kdl"]
resolver = "2"

[workspace.dependencies]
kdl = "6.3.4"
mimalloc = "0.1.46"
password-auth = { version = "1.0.0", features = ["pbkdf2", "argon2", "scrypt"] }
shiba = "0.1.1"

[patch.crates-io]
monoio = { git = "https://github.com/DorianNiemiecSVRJS/monoio.git" }                       # This is needed for the web server to be able to accept more than one connection on Windows, and to be able to be compiled correctly on FreeBSD
cache_control = { git = "https://github.com/DorianNiemiecSVRJS/rust-cache-control.git" }    # This is a fork of "cache-control" crate, with a bugfix related to "s-maxage" directive
libc = { git = "https://github.com/DorianNiemiecSVRJS/rust-libc.git", branch = "libc-0.2" } # This is needed for the web server to be able to be compiled for musl libc targets

[profile.release]
strip = true
lto = true
codegen-units = 1
panic = "abort"
