---
import "../styles/asciinema-player.css";
---

<section id="configuration" class="py-20">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold mb-4">
        Automatic TLS management
      </h2>
      <p class="text-muted-foreground text-lg max-w-2xl mx-auto">
        Ferron can automatically obtain TLS certificates for your website,
        making it easy to secure your site with HTTPS.
      </p>
    </div>
    <div class="mx-auto max-w-screen-md">
      <div data-auto-tls-demo></div>
    </div>
  </div>
</section>

<script>
  import heroRecording from "../assets/ferron-tls-demo.cast?url";
  import * as AsciinemaPlayer from "asciinema-player";

  function loadPlayer() {
    const heroElement = document.querySelector("[data-auto-tls-demo]");
    if (!heroElement) return;

    AsciinemaPlayer.create(heroRecording, heroElement, {
      cols: 80,
      rows: 23,
      theme: "nord"
    });
  }

  document.addEventListener("astro:after-swap", () => {
    loadPlayer();
  });

  loadPlayer();
</script>
